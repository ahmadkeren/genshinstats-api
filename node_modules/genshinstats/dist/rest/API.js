"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.request = void 0;
const tslib_1 = require("tslib");
const axios_1 = tslib_1.__importDefault(require("axios"));
// using has reference from https://github.com/genshin-kit/genshin-kit/blob/master/packages/core/src/module/request.ts#L6
async function request(method, path, data) {
    let query, body;
    if (method.toLowerCase() === 'get') {
        query = data;
    }
    else {
        body = data;
    }
    return (await axios_1.default({
        method,
        url: path.startsWith('http') ? path : `https://api-os-takumi.mihoyo.com/game_record/genshin/api/${path}`,
        headers: this.getHeaders({ query, body }),
        data: body,
        params: query,
        ...(this.serverType === 'os' ? { withCredentials: true } : {}),
    })).data;
}
exports.request = request;
//# sourceMappingURL=API.js.map